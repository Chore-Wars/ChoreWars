
@{
    ViewData["Title"] = "GetQuestion";
}

@using Chore_Wars.ViewModels;

@model ViewModelQuestions

<h1>Get Question</h1>


@if (Model.ApiQuestion == null)
{
    List<string> allAnswers = new List<string> {
    Model.CustomQuestion.CorrectAnswer,
    Model.CustomQuestion.IncorrectAnswer1,
    Model.CustomQuestion.IncorrectAnswer2,
    Model.CustomQuestion.IncorrectAnswer3
    };

    var shuffledAnswers = allAnswers.OrderBy(a => Guid.NewGuid()).ToList();


    <h1>Question:</h1>
    <p>Difficulty: @Model.CustomQuestion.Difficulty</p>
    <p>Point Value: @Model.CustomQuestion.PointValue</p>
    <p>Category: @Model.CustomQuestion.Category</p>
    <br />
    <p>Question: @Model.CustomQuestion.Question1</p>

    <form action="../Question/Result" method="post">
        <label for="1">@shuffledAnswers[0]</label>
        <input id="1" type="radio" name="selection" value="@shuffledAnswers[0]" /><br />
        <label for="2">@shuffledAnswers[1]</label>
        <input id="2" type="radio" name="selection" value="@shuffledAnswers[1]" /><br />
        <label for="3">@shuffledAnswers[2]</label>
        <input id="3" type="radio" name="selection" value="@shuffledAnswers[2]" /><br />
        <label for="4">@shuffledAnswers[3]</label>
        <input id="4" type="radio" name="selection" value="@shuffledAnswers[3]" /><br />


        <input type="hidden" name="answer" value="@Model.CustomQuestion.CorrectAnswer" />
        <input type="hidden" name="points" value="@Model.CustomQuestion.PointValue" />
        <input type="submit" />
    </form>

}
else
{
    <p>Difficulty: @Model.ApiQuestion.results[0].difficulty</p>
    <p>Point Value: @Model.ApiQuestion.results[0].point_value</p>
    <p>Category: @Model.ApiQuestion.results[0].category</p>
    <br />
    <p>@Html.Raw(Model.ApiQuestion.results[0].question)</p>

    <form action="../Question/Result" method="post">
        <label for="1">@Html.Raw(Model.ApiQuestion.results[0].all_answers[0])</label>
        <input id="1" type="radio" name="selection" value="@Model.ApiQuestion.results[0].all_answers[0]" /><br />

        <label for="2">@Html.Raw(Model.ApiQuestion.results[0].all_answers[1])</label>
        <input id="2" type="radio" name="selection" value="@Model.ApiQuestion.results[0].all_answers[1]" /><br />

        <label for="3">@Html.Raw(Model.ApiQuestion.results[0].all_answers[2])</label>
        <input type="radio" name="selection" value="@Model.ApiQuestion.results[0].all_answers[2]" /><br />

        <label for="4">@Html.Raw(Model.ApiQuestion.results[0].all_answers[3])</label>
        <input id="4" type="radio" name="selection" value="@Model.ApiQuestion.results[0].all_answers[3]" /><br />

        <input type="hidden" name="answer" value="@Model.ApiQuestion.results[0].correct_answer" />
        <input type="hidden" name="points" value="@Model.ApiQuestion.results[0].point_value" />
        <input type="submit" />
    </form>
}


